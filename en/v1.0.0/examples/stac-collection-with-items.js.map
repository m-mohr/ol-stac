{"version":3,"file":"stac-collection-with-items.js","mappings":"kKASA,E,QAAA,IAAS,KAET,MAAMA,EAAQ,IAAI,IAAK,CACrBC,IAAK,6EACLC,gBAAgB,IAGZC,EAAa,IAAI,IAAU,CAC/BC,OAAQ,IAAI,MAGRC,EAAM,IAAI,IAAI,CAClBC,OAAQ,MACRC,OAAQ,CAACJ,EAAYH,GACrBQ,KAAM,IAAI,KAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,KAAM,EACNC,gBAAgB,MAGpBN,EAAIO,GAAG,cAAeC,MAAOC,IAC3B,MAAMC,QAAgB,QAAuBD,EAAOd,EAAMgB,WAC1D,GAAID,EAAQE,OAAS,EAAG,CACtB,MAAMC,EAAMH,EAAQV,IAAKc,GAAQA,EAAIC,IACrCC,SAASC,eAAe,OAAOC,UAAYL,EAAIM,KAAK,KACtD,IAEFxB,EAAMY,GAAG,cAAe,KACTP,EAAIoB,UACZC,IAAI1B,EAAM2B,eAGjBC,MACE,kKAECC,KAAMC,GAAaA,EAASC,QAC5BF,KAAMG,IACLhC,EAAMiC,YAAYD,EAAO,CAAC9B,gBAAgB,MAE3CgC,MAAOC,IACNC,MAAM,wBAA0BD,EAAME,U","sources":["webpack:///./stac-collection-with-items.js"],"sourcesContent":["import Map from 'ol/Map.js';\nimport OSM from 'ol/source/OSM.js';\nimport STAC from '../src/ol/layer/STAC.js';\nimport TileLayer from 'ol/layer/WebGLTile.js';\nimport View from 'ol/View.js';\nimport proj4 from 'proj4';\nimport {getStacObjectsForEvent} from '../src/ol/util.js';\nimport {register} from 'ol/proj/proj4.js';\n\nregister(proj4); // required to support source reprojection\n\nconst layer = new STAC({\n  url: 'https://planetarycomputer.microsoft.com/api/stac/v1/collections/esa-cci-lc',\n  displayPreview: false,\n});\n\nconst background = new TileLayer({\n  source: new OSM(),\n});\n\nconst map = new Map({\n  target: 'map',\n  layers: [background, layer],\n  view: new View({\n    center: [0, 0],\n    zoom: 0,\n    showFullExtent: true,\n  }),\n});\nmap.on('singleclick', async (event) => {\n  const objects = await getStacObjectsForEvent(event, layer.getData());\n  if (objects.length > 0) {\n    const ids = objects.map((obj) => obj.id);\n    document.getElementById('ids').innerText = ids.join(', ');\n  }\n});\nlayer.on('sourceready', () => {\n  const view = map.getView();\n  view.fit(layer.getExtent());\n});\n\nfetch(\n  'https://planetarycomputer.microsoft.com/api/stac/v1/collections/esa-cci-lc/items?datetime=2020-01-01T00%3A00%3A00.000Z%2F2020-12-31T00%3A00%3A00.000Z&limit=32'\n)\n  .then((response) => response.json())\n  .then((items) => {\n    layer.setChildren(items, {displayPreview: true});\n  })\n  .catch((error) => {\n    alert('Error fetching items:' + error.message);\n  });\n"],"names":["layer","url","displayPreview","background","source","map","target","layers","view","center","zoom","showFullExtent","on","async","event","objects","getData","length","ids","obj","id","document","getElementById","innerText","join","getView","fit","getExtent","fetch","then","response","json","items","setChildren","catch","error","alert","message"],"sourceRoot":""}