{"version":3,"file":"custom.js","mappings":"yJAQA,E,QAAA,IAAS,KAET,MAAMA,EAAa,IAAI,IAAU,CAC/BC,OAAQ,IAAI,MAGRC,EAAM,IAAI,IAAI,CAClBC,OAAQ,MACRC,OAAQ,CAACJ,GACTK,KAAM,IAAI,KAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,KAAM,MAUV,IAAIC,EAEJ,SAASC,IACPC,SAASC,eAAe,aAAaC,MAAQ,GAC7CC,GACF,CAEA,SAASA,IACHL,GACFN,EAAIY,YAAYN,GAGlB,MAAMO,EAAML,SAASC,eAAe,aAAaC,MACjD,GAAKG,EAIL,IACEP,EAAQ,IAAI,IAAK,CACfO,MACAC,gBAAgB,EAChBC,yBAAyB,EACzBC,mBAAmB,IAErBV,EAAMW,GAAG,eAAe,KACTjB,EAAIkB,UACZC,IAAIb,EAAMc,YAAY,IAE7Bd,EAAMW,GAAG,eAAe,KAClBX,EAAMe,WACRC,MAAM,sDACR,IAEFtB,EAAIuB,SAASjB,EACf,CAAE,MAAOkB,GACPF,MAAME,EAAMC,QACd,CACF,CA3CAC,OAAOC,OAAS,WACdnB,SAASC,eAAe,YAAYmB,iBAAiB,QAASjB,GAC9DH,SAASC,eAAe,aAAamB,iBAAiB,QAASrB,GAC/DI,GACF,C","sources":["webpack:///./custom.js"],"sourcesContent":["import Map from 'ol/Map.js';\nimport OSM from 'ol/source/OSM.js';\nimport STAC from '../src/ol/layer/STAC.js';\nimport TileLayer from 'ol/layer/WebGLTile.js';\nimport View from 'ol/View.js';\nimport proj4 from 'proj4';\nimport {register} from 'ol/proj/proj4.js';\n\nregister(proj4); // required to support source reprojection\n\nconst background = new TileLayer({\n  source: new OSM(),\n});\n\nconst map = new Map({\n  target: 'map',\n  layers: [background],\n  view: new View({\n    center: [0, 0],\n    zoom: 0,\n  }),\n});\n\nwindow.onload = function () {\n  document.getElementById('load-btn').addEventListener('click', showUrl);\n  document.getElementById('reset-btn').addEventListener('click', resetUrl);\n  showUrl();\n};\n\nlet layer;\n\nfunction resetUrl() {\n  document.getElementById('url-input').value = '';\n  showUrl();\n}\n\nfunction showUrl() {\n  if (layer) {\n    map.removeLayer(layer);\n  }\n\n  const url = document.getElementById('url-input').value;\n  if (!url) {\n    return;\n  }\n\n  try {\n    layer = new STAC({\n      url,\n      displayPreview: true,\n      displayGeoTiffByDefault: true,\n      displayWebMapLink: true,\n    });\n    layer.on('sourceready', () => {\n      const view = map.getView();\n      view.fit(layer.getExtent());\n    });\n    layer.on('layersready', () => {\n      if (layer.isEmpty()) {\n        alert('No spatial information available in the data source');\n      }\n    });\n    map.addLayer(layer);\n  } catch (error) {\n    alert(error.message);\n  }\n}\n"],"names":["background","source","map","target","layers","view","center","zoom","layer","resetUrl","document","getElementById","value","showUrl","removeLayer","url","displayPreview","displayGeoTiffByDefault","displayWebMapLink","on","getView","fit","getExtent","isEmpty","alert","addLayer","error","message","window","onload","addEventListener"],"sourceRoot":""}